var R=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var h=n=>R(n,"__esModule",{value:!0});var y=(n,e)=>{for(var t in e)R(n,t,{get:e[t],enumerable:!0})},I=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of p(e))!b.call(n,r)&&(t||r!=="default")&&R(n,r,{get:()=>e[r],enumerable:!(i=x(e,r))||i.enumerable});return n};var E=(n=>(e,t)=>n&&n.get(e)||(t=I(h({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var _={};y(_,{ERROR_INVALID_ARGUMENT:()=>l,ERROR_STRING_IS_NOT_HEADER:()=>c,ERROR_UNSATISFIABLE_RESULT:()=>d,Ranges:()=>g,parseRange:()=>T});var l=-3,c=-2,d=-1;function N(n){let e=n.map(A).sort(w),t=0;for(let r=1;r<e.length;r++){let a=e[r],s=e[t];a.start>s.end+1?e[++t]=a:a.end>s.end&&(s.end=a.end,s.index=Math.min(s.index,a.index))}e.length=t+1;let i=[...e].sort(O).map(W);return i.type=n.type,i}function A(n,e){return{end:n.end,index:e,start:n.start}}function W(n){return{end:n.end,start:n.start}}function O(n,e){return n.index-e.index}function w(n,e){return n.start-e.start}var g=class extends Array{constructor(){super(...arguments);this.type=""}toArray(){let e=Array.from(this);return e.type=this.type,e}};function m(n){return/^\d+$/.test(n)?Number(n):NaN}function S(n,e){let t=new g,i=!1;for(let r of n){let a=r.indexOf("-");if(a===-1)continue;let s=r.slice(0,a).trim(),f=r.slice(a+1).trim(),u=m(s),o=m(f);if(s.length===0?(u=e-o,o=e-1):f.length===0&&(o=e-1),o>e-1&&(o=e-1),!(Number.isNaN(u)||Number.isNaN(o))){if(u>o||u<0){i=!0;continue}t.push({end:o,start:u})}}return t.length<1?i?d:c:t}function T(n,e,t){let i=!0;if(t&&"throwError"in t&&t.throwError===!1&&(i=!1),!Number.isInteger(n)){if(i)throw new TypeError("Argument 'size' must be an integer.");return l}if(typeof e!="string"){if(i)throw new TypeError("Argument 'header' must be a string.");return l}let r=e.indexOf("=");if(r===-1)return c;let a=e.slice(r+1).split(","),s=S(a,n);return typeof s=="number"?s:(s.type=e.slice(0,r),t&&t.combine?N(s):s)}module.exports=E(_);
